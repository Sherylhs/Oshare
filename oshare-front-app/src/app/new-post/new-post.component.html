<app-header></app-header>
<div class="container">

    <div class="page-header">
        <h1>Create New Post</h1>
    </div>

    <form [formGroup]="form" (ngSubmit)="createPost()" class="form-horizontal">

        <div class="form-group">
            <label for="title" class="col-form-label col-lg-2">Title:</label>
            <div class="col-lg-6">
                <input
                    formControlName="title"
                    type="text"
                    class="form-control form-control-lg"
                    id="title">
                <div *ngIf="title.touched && title.invalid" class="alert alert-danger">
                    <div *ngIf="title.errors.required">Title is required.</div>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="text" class="col-form-label col-lg-2">Content:</label>
            <div class="col-lg-6">     
                <textarea
                    formControlName="text" 
                    type="text"
                    class="form-control"
                    id="text"
                    rows="15"></textarea>
                <div *ngIf="text.touched && text.invalid" class="alert alert-danger">Content is required.</div>
            </div>
        </div>

        <div class="form-group">
            <label id="upload-label" for="upload" class="col-form-label col-lg-2">Upload Image: </label>
            <div class="col-lg-3">  
                <input 
                    id="upload"
                    type="file" 
                    class="form-control" 
                    accept="image/*"
                    multiple=""
                    (change)="fileChanged($event)">
            </div>
        </div>
            
        <div>
            <button type="submit" class="btn btn-dark">Create Post</button>
        </div>
        

    </form>
        
    <img *ngFor='let url of images'  [src]="url" height="150" width="200px" style="margin: 3px;"> <br/>

</div>
